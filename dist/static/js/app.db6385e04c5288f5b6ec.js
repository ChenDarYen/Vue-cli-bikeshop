webpackJsonp([1],{"3MqB":function(t,a){},"46Bg":function(t,a){},GGf0:function(t,a){},IbSY:function(t,a){},"K9/t":function(t,a){},KKi5:function(t,a){},LqWc:function(t,a){},"MbA/":function(t,a,e){"use strict";var s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-2 d-none d-md-block bg-light ml-3"},[e("div",[e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[t._v("商品")]),t._v(" "),e("router-link",{staticClass:"d-flex align-items-center text-muted",attrs:{to:"/shop"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])],1),t._v(" "),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shop/touring"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    旅行車\r\n                ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shop/road"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    公路車\r\n                ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{href:"#",to:"/shop/pista"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    單速車\r\n                ")])],1)]),t._v(" "),e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[t._v("特價區")]),t._v(" "),e("router-link",{staticClass:"d-flex align-items-center text-muted",attrs:{to:"shop/sales"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])],1),t._v(" "),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shop/sales"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    單車\r\n                ")])],1)])])])},staticRenderFns:[]};a.a=s},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i=e("mtWM"),n=e.n(i),o=e("Rf8U"),r=e.n(o),l=e("ZZvs"),c=e.n(l),d=e("sUu7"),u=e("ZpJ1"),p=e.n(u),v=e("7QTg"),m=e.n(v),_=(e("v2ns"),e("SYh3"),e("K3J8"),{render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]});var h=e("VU/8")({name:"App"},_,!1,function(t){e("O0EU")},null,null).exports,g=e("/ocq"),f={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("i",{staticClass:"fas fa-shopping-cart"},[this.cartLen>0?a("div",{staticClass:"cart-quantity bg-danger text-white"},[this._v(this._s(this.cartLen))]):this._e()])])},staticRenderFns:[]};var b={data:function(){return{keyWord:""}},methods:{search:function(t){this.$router.push("/shop/search/"+t)}},components:{Cart:e("VU/8")({data:function(){return{cartLen:0}},methods:{getCart:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/bike/cart").then(function(a){t.cart=a.data.data,t.cartLen=a.data.data.carts.length})}},created:function(){this.getCart(),this.$bus.$on("cart:update",this.getCart)}},f,!1,function(t){e("K9/t")},"data-v-3d4f6ac1",null).exports}},C={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-light fixed-top flex-md-nowrap p-0"},[e("router-link",{staticClass:"navbar-brand ml-3 px-2",attrs:{to:"/main"}},[t._v("BIKE")]),t._v(" "),e("router-link",{staticClass:"ml-auto d-sm-none mr-2 mt-1",attrs:{to:"/cart"}},[e("Cart",{staticClass:"cart"})],1),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse pl-2",attrs:{id:"navbarCollapse"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),t._v(" "),e("li",{staticClass:"nav-item dropdown"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shop"}},[t._v("商品")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/shop/sales"}},[t._v("特價區")])],1)]),t._v(" "),e("form",{staticClass:"form-inline px-3 px-sm-0 row",on:{submit:function(a){t.search(t.keyWord)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control mr-2 col-8",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.keyWord},on:{input:function(a){a.target.composing||(t.keyWord=a.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-outline-success my-2 my-sm-0 col-3",attrs:{type:"submit"}},[t._v("Search")])])]),t._v(" "),e("router-link",{staticClass:"d-none d-sm-inline-block mr-4 ml-3 mt-1",attrs:{to:"/cart"}},[e("Cart",{staticClass:"cart"})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler mx-2",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]};var x=e("VU/8")(b,C,!1,function(t){e("T4Kp")},"data-v-fac0b9aa",null).exports,y=e("xFOL"),k={name:"AlertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a,e,s){var i=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,width:e,right:s,timestamp:i}),this.removeMessageWithTiming(i)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"20px";t.updateMessage(a,e,s,i)})}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s},[e("div",{staticClass:"alert alert-dismissible",class:"alert-"+a.status,style:{width:a.width,right:a.right,top:80+48*s+"px"}},[t._v("\n      "+t._s(a.message)+"\n      "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])}),0)},staticRenderFns:[]};var P=e("VU/8")(k,w,!1,function(t){e("GGf0")},null,null).exports,$={name:"adminPage",data:function(){return{cart:{},cartLen:0}},methods:{getCart:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/bike/cart").then(function(a){t.cart=a.data.data,t.cartLen=t.cart.carts.length})}},components:{Navbar:x,Footer:y.default,Alert:P}},L={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("Navbar",{attrs:{cart:this.cart}}),this._v(" "),a("Alert"),this._v(" "),a("router-view",{staticClass:"main"}),this._v(" "),a("Footer",{staticClass:"mt-4"})],1)},staticRenderFns:[]},O=e("VU/8")($,L,!1,null,null,null).exports,E={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),t.error?e("p",{staticClass:"mt-3 text-danger"},[t._v("請輸入正確的電子郵件與密碼")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n            ")])])}]};var M=e("VU/8")({name:"loginPage",data:function(){return{isLoading:!1,error:!1,user:{username:"",password:""}}},methods:{signin:function(){var t=this;t.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(a){t.isLoading=!1,a.data.success?t.$router.push("/admin"):t.error=!0})}}},E,!1,function(t){e("dm/s")},"data-v-021ba603",null).exports,q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-dark navbar-expand-sm fixed-top bg-dark flex-md-nowrap p-0 shadow"},[e("router-link",{staticClass:"navbar-brand text-center px-2",attrs:{to:"main"}},[t._v("BIKE SHOP")]),t._v(" "),t._m(0),t._v(" "),e("ul",{staticClass:"navbar-nav d-none d-sm-flex d-lg-none"},[e("li",{staticClass:"nav-item text-nowrap"},[e("router-link",{staticClass:"nav-link",class:{active:"Product"==t.$route.name},attrs:{to:"/admin/product"}},[t._v("Product")])],1),t._v(" "),e("li",{staticClass:"nav-item text-nowrap"},[e("router-link",{staticClass:"nav-link",class:{active:"Order"==t.$route.name},attrs:{to:"/admin"}},[t._v("Order")])],1),t._v(" "),e("li",{staticClass:"nav-item text-nowrap"},[e("router-link",{staticClass:"nav-link",class:{active:"Coupon"==t.$route.name},attrs:{to:"/admin/coupon"}},[t._v("Coupon")])],1)]),t._v(" "),e("div",{staticClass:"collapse navbar-collapse px-3 px-sm-0",attrs:{id:"navbarCollapse"}},[t._m(1),t._v(" "),e("ul",{staticClass:"navbar-nav pb-2 pb-sm-0"},[e("li",{staticClass:"nav-item text-nowrap d-sm-none"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/product"}},[t._v("Product")])],1),t._v(" "),e("li",{staticClass:"nav-item text-nowrap d-sm-none"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[t._v("Order")])],1),t._v(" "),e("li",{staticClass:"nav-item text-nowrap d-sm-none"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupon"}},[t._v("Coupon")])],1),t._v(" "),e("li",{staticClass:"nav-item text-nowrap px-0 px-md-3"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.logout(a)}}},[t._v("Sign out")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler mr-2",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("form",{staticClass:"form-inline py-2 ml-auto row"},[a("input",{staticClass:"form-control form-control-dark col-8 mr-2",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),this._v(" "),a("button",{staticClass:"btn btn-outline-primary mr-2 col-3",attrs:{type:"submit"}},[this._v("Search")])])}]},U=e("VU/8")({methods:{logout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(a){a.data.success&&t.$router.push("/login")})}}},q,!1,null,null,null).exports,F={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"d-none d-lg-block bg-light sidebar"},[e("div",{staticClass:"pl-3"},[t._m(0),t._v(" "),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"Order"==t.$route.name},attrs:{href:"#",to:"/admin"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    Order\r\n                ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"Product"==t.$route.name},attrs:{href:"#",to:"/admin/product"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    Product\r\n                ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"Coupon"==t.$route.name},attrs:{href:"#",to:"/admin/coupon"}},[e("span",{attrs:{"data-feather":"file-text"}}),t._v("\r\n                    Coupon\r\n                ")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h6",{staticClass:"sidebar-heading px-3 py-2 mt-4 mb-1 text-muted"},[a("span",[this._v("Admin")])])}]};var B={name:"adminPage",data:function(){return{}},components:{Sidebar:e("VU/8")(null,F,!1,function(t){e("eABo")},"data-v-1d18695f",null).exports,Navbar:U,Alert:P}},N={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("Navbar"),this._v(" "),a("Alert"),this._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("Sidebar"),this._v(" "),a("main",{staticClass:"ml-auto mr-lg-3 col-lg-10 px-4",attrs:{role:"main"}},[a("router-view")],1)],1)])],1)},staticRenderFns:[]};var D=e("VU/8")(B,N,!1,function(t){e("IbSY")},"data-v-fddff4ec",null).exports,I={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.isCart?e("div",{staticClass:"cart"},[0!=t.cart.total?e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6 col-lg-7"},t._l(t.cart.carts,function(a){return e("div",{key:a.id,staticClass:"item d-flex align-items-center mb-2 row"},[e("div",{staticClass:"item-image ml-3 ml-sm-auto",style:{backgroundImage:"url("+a.product.imageUrl+")"}}),t._v(" "),e("div",{staticClass:"item-title ml-2"},[t._v(t._s(a.product.title))]),t._v(" "),e("div",{staticClass:"item-quantity"},[t._v("*"+t._s(a.qty))]),t._v(" "),e("div",{staticClass:"item-price ml-2"},[t._v(t._s(t._f("currencyFilter")(a.product.price)))]),t._v(" "),e("div",{staticClass:"col-1 ml-auto"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeFromCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])])])}),0),t._v(" "),e("div",{staticClass:"col-12 col-sm-6 col-lg-5 mt-5 mt-sm-0 frame"},[e("div",{staticClass:"frame-header"},[t._v("\r\n                        訂單摘要\r\n                    ")]),t._v(" "),e("div",{staticClass:"frame-body"},[e("div",[e("div",{staticClass:"label"},[t._v("商品總計")]),t._v(" "),e("div",{staticClass:"price"},[t._v(t._s(t._f("currencyFilter")(t.cart.total)))])]),t._v(" "),t.cart.total!=t.cart.final_total?e("div",[e("div",{staticClass:"label"},[t._v("使用優惠卷折抵")]),t._v(" "),e("div",{staticClass:"text-danger price"},[t._v("-"+t._s(t._f("currencyFilter")(t.cart.total-t.cart.final_total)))])]):t._e(),t._v(" "),e("div",{staticClass:"input-group my-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.code},on:{input:function(a){a.target.composing||(t.code=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.applyCoupon}},[t._v("\r\n                                套用優惠碼\r\n                                ")])])]),t._v(" "),e("div",{staticClass:"devider"}),t._v(" "),e("div",[e("div",{staticClass:"label"},[t._v("結帳總金額")]),t._v(" "),e("div",{staticClass:"price"},[t._v(t._s(t._f("currencyFilter")(t.cart.final_total)))])]),t._v(" "),e("div",{staticClass:"mt-3 text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:function(a){t.isInform=!0,t.isCart=!1}}},[t._v("前往結帳")])])])])])]):e("div",{staticClass:"text-center"},[e("div",{staticClass:"empty-title"},[t._v("您的購物車內沒有商品")]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark mt-4",on:{click:function(a){a.preventDefault(),t.$router.push("/shop")}}},[t._v("回去逛逛")])])])]):t._e(),t._v(" "),t.isInform?e("div",{staticClass:"inform content-fluid"},[e("div",{staticClass:"row justify-content-center"},[e("table",{staticClass:"detail-table"},[e("tbody",[t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"text-right p-0",attrs:{colspan:"2"}},[t._v(t._s(a.product.title))]),t._v(" "),e("td",[t._v("*"+t._s(a.qty))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currencyFilter")(a.product.price)))])])}),t._v(" "),e("tr",{staticClass:"note"},[e("td",[t._v("小記")]),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currencyFilter")(t.cart.total)))])]),t._v(" "),t.cart.total!=t.cart.final_total?e("tr",{staticClass:"coupon"},[e("td",[t._v("優惠券")]),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td",{staticClass:"text-right"},[t._v("-"+t._s(t._f("currencyFilter")(t.cart.total-t.cart.final_total)))])]):t._e(),t._v(" "),e("tr",{staticClass:"checkout-price"},[e("td",[t._v("結帳總金額")]),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td",{staticClass:"text-primary text-right"},[t._v(t._s(t._f("currencyFilter")(t.cart.final_total)))])])],2)])]),t._v(" "),e("div",{staticClass:"row p-3 pt-5"},[e("button",{staticClass:"btn btn-outline-dark",on:{click:function(a){t.isInform=!1,t.isCart=!0}}},[t._v("返回購物車")])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[e("form",{staticClass:"col",on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t._v(" "),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名欄位不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t._v(" "),t.errors.has("tel")?e("span",{staticClass:"text-danger"},[t._v("電話欄位不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t._v(" "),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:t.createOrder}},[t._v("送出訂單")])])])])]):t._e()])},staticRenderFns:[]};var R=e("VU/8")({data:function(){return{isLoading:!1,isCart:!0,isInform:!1,cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},code:""}},methods:{getCart:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/bike/cart").then(function(a){t.cart=a.data.data})},removeFromCart:function(t){var a=this,e=this,s="https://vue-course-api.hexschool.io/api/bike/cart/"+t;e.isLoading=!0,this.$http.delete(s).then(function(t){e.isLoading=!1,t.data.success&&(e.getCart(),a.$bus.$emit("message:push","刪除商品成功","success","100%","0"),a.$bus.$emit("cart:update"))})},applyCoupon:function(){var t=this,a=this;a.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/bike/coupon",{data:{code:a.code}}).then(function(e){a.isLoading=!1,e.data.success?a.cart.final_total=e.data.data.final_total:t.$bus.$emit("message:push",e.data.message,"danger","100%","0")})},createOrder:function(){var t=this;this.$validator.validate().then(function(a){if(a){var e=t;e.isLoading=!0,t.$http.post("https://vue-course-api.hexschool.io/api/bike/order",{data:e.form}).then(function(a){e.isLoading=!1,a.data.success?(t.$bus.$emit("cart:update"),t.$router.push("/checkout/"+a.data.orderId)):t.$bus.$emit("message:push","確認訂單失敗","danger")})}})}},created:function(){this.getCart()}},I,!1,function(t){e("NZKn")},"data-v-043bbbd3",null).exports,T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkout"},[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currencyFilter")(a.product.price)))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currencyFilter")(t.order.total)))])])])]),t._v(" "),e("table",{staticClass:"table mt-5"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),t.order.is_paid?t._e():e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]),t._v(" "),t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){a.preventDefault(),t.$router.push("/")}}},[t._v("回到首頁")])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",{staticClass:"text-right pr-4"},[this._v("結帳單價")])])}]};var A=e("VU/8")({data:function(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/order/"+t.orderId;t.isLoading=!0,this.$http.get(a).then(function(a){a.data.success&&(t.isLoading=!1,t.order=a.data.order)})},payOrder:function(){var t=this,a=this,e="https://vue-course-api.hexschool.io/api/bike/pay/"+a.orderId;a.isLoading=!0,this.$http.post(e).then(function(e){e.data.success?(a.isLoading=!1,t.$bus.$emit("message:push","付款成功","success"),a.getOrder()):t.$bus.$emit("message:push","付款失敗","danger")})}},created:function(){this.orderId=this.$route.params.order_id,this.getOrder()}},T,!1,function(t){e("KKi5")},"data-v-17dc9d64",null).exports,W={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"showcase",style:t.options.styles},[e("div",{staticClass:"content"},[e("span",[t._v(t._s(t.options.subtitle))]),t._v(" "),e("h3",{staticClass:"mt-1"},[t._v(t._s(t.options.title))]),t._v(" "),e("p",{staticClass:"mt-2"},[t._v(t._s(t.options.content))]),t._v(" "),e("button",{staticClass:"btn btn-dark mt-2",attrs:{type:"button"},on:{click:function(a){t.directTo(t.options.direction)}}},[t._v("前往")])])])},staticRenderFns:[]};var V={data:function(){return{swiperBanner:[{title:"BIKE SHOP周年慶",subtitle:"life is keep riding.",buttonText:"限時特惠",url:"https://images.unsplash.com/photo-1541625602330-2277a4c46182?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",path:"/shop/sales"},{title:"踏上屬於你的旅行",subtitle:"on the road.",buttonText:"了解旅行車",url:"https://images.unsplash.com/photo-1485203665302-548a1845d137?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=747&q=80",path:"/shop/touring"},{title:"單速車系列",subtitle:"城市騎行",buttonText:"查看更多",url:"https://images.unsplash.com/photo-1452117774045-dfd7a5e9718c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=889&q=80",path:"/shop/pista"}],swiperOption:{autoplay:!0,speed:3e3,loop:!0,autoplayDisableOnInteraction:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}},touringOptions:{title:"旅行車",subtitle:"Touring Bike",direction:"/shop/touring",styles:{color:"white",backgroundImage:'url("https://images.unsplash.com/photo-1511994298241-608e28f14fde?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80")'}},pistaOptions:{title:"單速車",subtitle:"Pista Bike",direction:"/shop/pista",styles:{backgroundImage:'url("https://images.unsplash.com/photo-1507035895480-2b3156c31fc8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80")'}},salesOptions:{title:"特價區",subtitle:"Sales",direction:"/shop/sales",styles:{backgroundImage:'url("https://images.unsplash.com/photo-1544011343-494fe72e6bab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60")',color:"white"}}}},components:{Window:e("VU/8")({props:{options:{title:"",subtitle:"",content:"",direction:"",styles:{height:"",width:"",color:"",backgroundImage:""}}},methods:{directTo:function(t){this.$router.push(t)}}},W,!1,function(t){e("46Bg")},"data-v-9212af8a",null).exports}},S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.swiperBanner,function(a,s){return e("swiper-slide",{key:s},[e("div",{staticClass:"banner"},[e("div",{staticClass:"background",style:{"background-image":"url('"+a.url+"')"}}),t._v(" "),e("div",{staticClass:"content text-white text-center"},[e("h3",[t._v(t._s(a.subtitle))]),t._v(" "),e("h2",[t._v(t._s(a.title))]),t._v(" "),e("router-link",{staticClass:"btn btn-dark mt-2",attrs:{to:a.path}},[t._v(t._s(a.buttonText))])],1)])])}),t._v(" "),e("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),t._v(" "),e("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"}),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-6"},[e("Window",{attrs:{options:t.touringOptions}})],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("Window",{attrs:{options:t.pistaOptions}})],1),t._v(" "),e("div",{staticClass:"col-12"},[e("Window",{attrs:{options:t.salesOptions}})],1)])])},staticRenderFns:[]};var j=e("VU/8")(V,S,!1,function(t){e("t4Z1")},null,null).exports,H=e("qfuq"),Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"banner",style:"backgroundImage: url("+t.options.imageUrl+")"},[e("div",{staticClass:"banner-content",style:"color: "+t.options.color},[e("div",{staticClass:"banner-title"},[t._v(t._s(t.options.title))]),t._v(" "),e("div",{staticClass:"banner-subtitle"},[t._v(t._s(t.options.subtitle))])])])},staticRenderFns:[]};var J=e("VU/8")({props:{options:{imageUrl:"",title:"",subtitle:"",color:""}}},Q,!1,function(t){e("3MqB")},"data-v-92c7f3ae",null).exports,K={data:function(){return{bannerOptions:{}}},methods:{changeBanner:function(t){this.bannerOptions=t,this.$set(this.bannerOptions,"imageUrl",t.imageUrl)}},components:{SideBar:H.default,Banner:J}},Y={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("Banner",{attrs:{options:this.bannerOptions}})],1),this._v(" "),a("div",{staticClass:"row",attrs:{role:"main"}},[a("SideBar"),this._v(" "),a("router-view",{on:{changeBanner:this.changeBanner}})],1)])},staticRenderFns:[]},G=e("VU/8")(K,Y,!1,null,null,null).exports,Z={props:{data:{default:Object}},data:function(){return{fileUpLoading:!1}},methods:{getDetail:function(t){console.log(t),this.fileUpLoading=!0,this.$emit("directToProduct",t),this.fileUpLoading=!1},directToProduct:function(t){this.$router.push("/shop/product/"+t)}}},z={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product-card"},[e("div",{staticClass:"col"},[e("div",[e("div",{staticClass:"product-card-picture",style:"backgroundImage: url("+t.data.imageUrl+")"}),t._v(" "),e("div",{staticClass:"card-body text-center"},[e("div",{staticClass:"product-card-title"},[t._v(t._s(t.data.title))]),t._v(" "),e("div",{staticClass:"mt-3"},[t.data.origin_price!=t.data.price?e("div",{staticClass:"product-card-originprice"},[t._v(t._s(t._f("currencyFilter")(t.data.origin_price)))]):t._e(),t._v(" "),e("div",{staticClass:"product-card-price"},[t._v(t._s(t._f("currencyFilter")(t.data.price)))])]),t._v(" "),e("button",{staticClass:"btn btn-outline-secondary btn-block mt-2",attrs:{type:"button"},on:{click:function(a){t.directToProduct(t.data.id)}}},[t.fileUpLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\r\n                    MORE\r\n                ")])])])])])},staticRenderFns:[]};var X=e("VU/8")(Z,z,!1,function(t){e("WGQu")},"data-v-9cb68080",null).exports,tt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.pagination.total_pages>1?e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){a.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[t._v("Previous")])]),t._v(" "),t._l(t.pagination.total_pages,function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:a==t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[t._v("Next")])])],2)]):t._e()},staticRenderFns:[]},at=e("VU/8")({props:["pagination"],methods:{changePage:function(t){this.$emit("getInform",t)}}},tt,!1,null,null,null).exports,et={data:function(){return{products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1470920456752-d50214d7ed59?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80",title:"自行車",subtitle:"Bike",color:"white"},isLoading:!1}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},created:function(){this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},st={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.products,function(a){return a.is_enabled?e("ProductCard",{key:a.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:a}}):t._e()}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},it=e("VU/8")(et,st,!1,null,null,null).exports,nt={data:function(){return{products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1470920456752-d50214d7ed59?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80",title:"旅行車",subtitle:"touring Bike",color:"white"},isLoading:!1,category:"旅行車"}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},created:function(){this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},ot={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.products,function(a){return a.is_enabled&&a.category==t.category?e("ProductCard",{key:a.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:a}}):t._e()}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},rt=e("VU/8")(nt,ot,!1,null,null,null).exports,lt={data:function(){return{products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1470920456752-d50214d7ed59?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80",title:"公路車",subtitle:"Road Bike",color:"white"},isLoading:!1,category:"公路車"}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},created:function(){this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},ct={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.products,function(a){return a.is_enabled&&a.category==t.category?e("ProductCard",{key:a.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:a}}):t._e()}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},dt=e("VU/8")(lt,ct,!1,null,null,null).exports,ut={data:function(){return{products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1470920456752-d50214d7ed59?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80",title:"單速車",subtitle:"Pista Bike",color:"white"},isLoading:!1,category:"單速車"}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)},getCondition:function(t){return!!t.is_enabled&&(t.category==category||(!(!sales||t.price==t.origin_price)||!category&&!sales))}},created:function(){this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},pt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.products,function(a){return a.is_enabled&&a.category==t.category?e("ProductCard",{key:a.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:a}}):t._e()}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},vt=e("VU/8")(ut,pt,!1,null,null,null).exports,mt={data:function(){return{products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1544011343-494fe72e6bab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",title:"特價區",subtitle:"Sales",color:"white"},isLoading:!1}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},created:function(){this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},_t={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.products,function(a){return a.is_enabled&&a.price!=a.origin_price?e("ProductCard",{key:a.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:a}}):t._e()}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},ht=e("VU/8")(mt,_t,!1,null,null,null).exports,gt={data:function(){return{keyWord:"",products:[],product:{},pagination:{},bannerOptions:{imageUrl:"https://images.unsplash.com/photo-1470920456752-d50214d7ed59?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80",title:"自行車",subtitle:"Bike",color:"white"},isLoading:!1}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.pagination=a.data.pagination,t.products=a.data.products})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},computed:{filtedProducts:function(){var t=this;return t.products.filter(function(a){return a.is_enabled&&-1!==a.title.toLowerCase().indexOf(t.keyWord.toLowerCase())})}},watch:{$route:function(){this.keyWord=this.$route.params.key_word}},created:function(){this.keyWord=this.$route.params.key_word,this.getProducts(),this.submitBannerOptions()},components:{ProductCard:X,Pagination:at}},ft={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"mt-4"},t._l(t.filtedProducts,function(t){return e("ProductCard",{key:t.id,staticClass:"col-12 col-sm-6 col-lg-4",attrs:{data:t}})}),1),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}})],1)},staticRenderFns:[]},bt=e("VU/8")(gt,ft,!1,null,null,null).exports,Ct={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col"},[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"product-header row"},[e("div",{staticClass:"text-center col-12 col-lg-4 ml-auto"},[e("div",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),t._v(" "),e("div",{staticClass:"mb-4"},[t.product.origin_price!=t.product.price?e("span",{staticClass:"product-originprice"},[t._v(t._s(t._f("currencyFilter")(t.product.origin_price)))]):t._e(),t._v(" "),e("span",{staticClass:"product-price"},[t._v(t._s(t._f("currencyFilter")(t.product.price)))])])]),t._v(" "),e("div",{staticClass:"col-12 col-lg-7 mt-lg-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group row",class:{"col-7":!t.errors.has("quantity"),"col-lg-3":!t.errors.has("quantity"),"col-8":t.errors.has("quantity"),"col-lg-5":t.errors.has("quantity")}},[e("label",{staticClass:"ml-auto text-right",attrs:{for:"quantity"}},[t._v("數量：")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.qty,expression:"form.qty"},{name:"validate",rawName:"v-validate",value:"min_value:1",expression:"'min_value:1'"}],staticClass:"col-3 col-lg-6 px-2",class:{"border-danger":t.errors.has("quantity")},attrs:{name:"quantity",id:"quantity"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"qty",a.target.multiple?e:e[0])}}},t._l(Number(t.optionNum),function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])}),0),t._v(" "),t.errors.has("quantity")?e("span",{staticClass:"text-danger text-left px-1"},[t._v("請選擇數量")]):t._e()]),t._v(" "),e("div",{staticClass:"text-left",class:{"col-5":!t.errors.has("quantity"),"col-4":t.errors.has("quantity"),"pl-2":t.errors.has("quantity")}},[e("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.addToCart(t.product.id,t.form.qty)}}},[t.fileUpLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\r\n                            加到購物車\r\n                    ")])])])])]),t._v(" "),e("div",{staticClass:"row product-body"},[e("span",[t._v(t._s(t.product.content))])]),t._v(" "),e("div",{staticClass:"row product-footer"},[e("span",[t._v(t._s(t.product.description))])])])},staticRenderFns:[]};var xt=e("VU/8")({data:function(){return{productId:"",isLoading:!1,fileUpLoading:!1,product:{},bannerOptions:{},form:{product_id:"",qty:0},optionNum:0}},methods:{getProduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/product/"+t.productId;t.isLoading=!0,this.$http.get(a).then(function(a){t.product=a.data.product,t.bannerOptions.imageUrl=a.data.product.imageUrl,t.form.product_id=a.data.product.id,a.data.product.quantity>10?t.optionNum=10:t.optionNum=a.data.product.quantity,t.isLoading=!1})},addToCart:function(t,a){var e=this;this.$validator.validate().then(function(t){if(t){var a=e;a.fileUpLoading=!0,e.$http.post("https://vue-course-api.hexschool.io/api/bike/cart",{data:a.form}).then(function(t){a.fileUpLoading=!1,t.data.success?(e.$bus.$emit("message:push","已成功將 "+a.product.title+" * "+a.form.qty+" 加入購物車","success","100%","0"),e.$bus.$emit("cart:update")):e.$bus.$emit("message:push","加入購物車失敗","danger","100%","0")})}})},submitBannerOptions:function(){this.$emit("changeBanner",this.bannerOptions)}},created:function(){this.productId=this.$route.params.product_id,this.getProduct(),this.submitBannerOptions()}},Ct,!1,function(t){e("zeAu")},"data-v-2c1c25ae",null).exports,yt=e("woOf"),kt=e.n(yt),wt=e("7t+N"),Pt=e.n(wt),$t={data:function(){return{products:[],tempProduct:{},isLoading:!1,updateLoading:!1,status:{fileUpLoading:!1},pagination:{}}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.products=a.data.products,t.pagination=a.data.pagination,t.isLoading=!1})},updateProduct:function(){var t=this,a=this,e="post",s="https://vue-course-api.hexschool.io/api/bike/admin/product",i="新增",n=a.tempProduct;n.new?(e="put",s="https://vue-course-api.hexschool.io/api/bike/admin/product/"+n.id,i="修改",delete n.new):n.del&&(e="delete",s="https://vue-course-api.hexschool.io/api/bike/admin/product/"+n.id,i="刪除",delete n.del),this.$http[e](s,{data:n}).then(function(e){e.data.success?(Pt()("#productModal").modal("hide"),Pt()("#delProductModal").modal("hide"),t.$bus.$emit("message:push",i+"成功","success"),a.getProducts()):(Pt()("#productModal").modal("hide"),Pt()("#delProductModal").modal("hide"),t.$bus.$emit("message:push",e.data.message,"danger"))})},openModal:function(){this.tempProduct={},Pt()("#productModal").modal("show")},openDelModal:function(t){this.tempProduct=kt()({},t),this.tempProduct.del=!0,Pt()("#delProductModal").modal("show")},editProduct:function(t){this.openModal(),this.tempProduct=kt()({},t),this.tempProduct.new=!0},cancelModal:function(){Pt()("#productModal").modal("hide"),Pt()("#delProductModal").modal("hide")},uploadFile:function(){var t=this,a=this.$refs.files.files[0],e=this,s=new FormData;s.append("file-to-upload",a);e.status.fileUpLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/bike/admin/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.success?e.$set(e.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("message:push",a.data.message.code,"danger"),e.status.fileUpLoading=!1})}},created:function(){this.getProducts()},components:{Pagination:at}},Lt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vld-parent"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"table-responsive mt-4"},[e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:t.openModal}},[t._v("ADD")])]),t._v(" "),e("table",{staticClass:"table table-striped table-sm mt-1"},[t._m(0),t._v(" "),e("tbody",t._l(t.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"d-none d-md-table-cell"},[e("img",{staticClass:"icon-img",attrs:{src:a.imageUrl,alt:""}})]),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[t._v(t._s(t._f("currencyFilter")(a.origin_price)))]),t._v(" "),e("td",[t._v(t._s(t._f("currencyFilter")(a.price)))]),t._v(" "),e("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(a.quantity))]),t._v(" "),e("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(a.category))]),t._v(" "),e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("enable")]):e("span",{staticClass:"text-danger"},[t._v("unable")])]),t._v(" "),e("td",{staticClass:"d-flex flex-column d-md-table-cell"},[e("button",{staticClass:"btn btn-outline-primary my-1",on:{click:function(e){t.editProduct(a)}}},[t._v("edit")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger my-1",on:{click:function(e){t.openDelModal(a)}}},[t._v("delete")])])])}),0)]),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\r\n                                        "),t.status.fileUpLoading?e("i",{staticClass:"fas fa-circle-notch fa-spin"}):t._e()]),t._v(" "),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),e("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.imageUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("數量")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.quantity,expression:"tempProduct.quantity"}],staticClass:"form-control",attrs:{type:"number",id:"quantity",placeholder:"請輸入數量"},domProps:{value:t.tempProduct.quantity},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"quantity",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var n=t._i(e,null);s.checked?n<0&&t.$set(t.tempProduct,"is_enabled",e.concat([null])):n>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\r\n                                        是否啟用\r\n                                        ")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\r\n                        是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\r\n                    ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認刪除")])])])])])],1)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"d-none d-md-table-cell"},[t._v("PICTURE")]),t._v(" "),e("th",{staticClass:"d-none d-lg-table-cell"},[t._v("ORIGN PRICE")]),t._v(" "),e("th",{staticClass:"price"},[t._v("PRICE")]),t._v(" "),e("th",{staticClass:"d-none d-md-table-cell"},[t._v("QUANTITY")]),t._v(" "),e("th",{staticClass:"d-none d-md-table-cell"},[t._v("CATEGORY")]),t._v(" "),e("th",[t._v("TITLE")]),t._v(" "),e("th",[t._v("ENABLE")]),t._v(" "),e("th",{staticClass:"edit text-center"},[t._v("EDIT")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("新增產品")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("刪除產品")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var Ot=e("VU/8")($t,Lt,!1,function(t){e("NYII")},"data-v-3225e41a",null).exports,Et={data:function(){return{isLoading:!1,updateLoading:!1,orders:[],order:{user:{},product:[]},modifyOrder:{},pagination:{},tempIdx:"",situa:-1}},methods:{getOrders:function(){var t=this,a=this,e="https://vue-course-api.hexschool.io/api/bike/orders?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);a.isLoading=!0,this.$http.get(e).then(function(e){a.isLoading=!1,e.data.success?(a.orders=e.data.orders,a.pagination=e.data.pagination):t.$bus.$emit("message:push","獲取訂單失敗","danger")})},editOrder:function(t,a){this.order=kt()({},t),this.modifyOrder=kt()({},t),this.tempIdx=a,Pt()("#orderModal").modal("show")},updateOrder:function(){var t=this,a=this,e="https://vue-course-api.hexschool.io/api/bike/admin/order/"+a.modifyOrder.id;a.updateLoading=!0,this.$http.put(e,{data:a.modifyOrder}).then(function(e){e.data.success?(a.getOrders(a.pagination.current_page),a.order=kt()({},a.modifyOrder)):t.$bus.$emit("message:push","變更狀態失敗","danger"),a.updateLoading=!1})},changeSitua:function(t){this.situa=t}},created:function(){this.getOrders()},components:{Pagination:at}},Mt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("table",{staticClass:"table table-striped table-sm mt-4"},[t._m(0),t._v(" "),e("tbody",t._l(t.orders,function(a,s){return a.is_paid==t.situa||-1==t.situa?e("tr",{key:a.id},[e("td",{staticClass:"time d-none d-md-table-cell pl-2"},[t._v(t._s(t._f("momentFilter")(a.create_at)))]),t._v(" "),e("td",{staticClass:"pl-2"},[t._v(t._s(a.user.name))]),t._v(" "),e("td",{staticClass:"email d-none d-md-table-cell"},[t._v(t._s(a.user.email))]),t._v(" "),e("td",{staticClass:"d-none d-md-table-cell"},t._l(a.products,function(a){return e("div",[t._v(t._s(a.product.title)+" * "+t._s(a.qty))])}),0),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currencyFilter")(a.total)))]),t._v(" "),e("td",{staticClass:"text-center"},[0==a.is_paid?e("span",{staticClass:"text-danger"},[t._v("尚未付款")]):1==a.is_paid?e("span",{staticClass:"text-warning"},[t._v("已付款")]):2==a.is_paid?e("span",{staticClass:"text-dark"},[t._v("已取消")]):e("span",{staticClass:"text-success"},[t._v("已完成")])]),t._v(" "),e("td",{staticClass:"pr-1",attrs:{width:"65px"}},[e("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.editOrder(a,s)}}},[t._v("detail")])])]):t._e()}),0)]),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getOrders}}),t._v(" "),e("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("header",{staticClass:"mb-3"},[e("h6",{staticClass:"d-inline-block text-primary font-weight-bold mr-4"},[t._v("訂單資訊")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.modifyOrder.is_paid,expression:"modifyOrder.is_paid"}],staticClass:"form-control-sm text-left align-middle mr-1",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.modifyOrder,"is_paid",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("請選擇訂單狀態")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("尚未付款")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("已付款")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("已取消")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("已完成")])]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-primary align-middle mt-2 mt-md-0",on:{click:t.updateOrder}},[t._v("\r\n                                        編輯"),t.updateLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("h6",[t._v("訂單日期")]),e("span",[t._v(t._s(t._f("momentFilter")(t.order.create_at)))])]),t._v(" "),e("div",[e("h6",{staticClass:"pb-2"},[t._v("訂單狀態")]),t._v(" "),0==t.order.is_paid?e("span",{staticClass:"situa bg-danger"},[t._v("尚未付款")]):1==t.order.is_paid?e("span",{staticClass:"situa bg-warning"},[t._v("已付款")]):2==t.order.is_paid?e("span",{staticClass:"situa bg-dark"},[t._v("已取消")]):e("span",{staticClass:"situa bg-success"},[t._v("已完成")])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("訂購人資訊")]),t._v(" "),e("div",{staticClass:"mb-2"},[e("h6",[t._v("訂購人")]),e("span",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("h6",[t._v("連絡電話")]),e("span",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("h6",[t._v("電子郵件")]),e("span",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("div",[e("h6",[t._v("訂購地址")]),e("span",[t._v(t._s(t.order.user.address))])])])]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-group"},[e("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("商品詳情")]),t._v(" "),t._l(t.order.products,function(a){return e("div",{staticClass:"mb-2"},[e("img",{staticClass:"mr-1",attrs:{src:a.product.imageUrl,alt:"",height:"50px"}}),t._v("\r\n                                        "+t._s(a.product.title)+" * "+t._s(a.qty)+"\r\n                                    ")])})],2)]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-row"},[e("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("顧客備註")]),t._v(" "),e("span",[t._v(t._s(t.order.message))])])])])])])])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"d-none d-md-table-cell pl-4"},[t._v("Time")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Name")]),t._v(" "),e("th",{staticClass:"d-none d-md-table-cell"},[t._v("Email")]),t._v(" "),e("th",{staticClass:"d-none d-md-table-cell"},[t._v("Items")]),t._v(" "),e("th",{staticClass:"text-right"},[t._v("Amount")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Situation")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Detail")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("訂單詳情")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var qt=e("VU/8")(Et,Mt,!1,function(t){e("tEGj")},"data-v-a8e04e1a",null).exports,Ut={data:function(){return{isLoading:!1,updateLoading:!1,coupons:[],tempCoupon:{},pagination:[]}},methods:{getCoupons:function(){var t=this,a="https://vue-course-api.hexschool.io/api/bike/admin/coupons?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(a).then(function(a){t.coupons=a.data.coupons,t.pagination=a.data.pagination,t.isLoading=!1})},updateCoupon:function(){var t=this,a=this,e="post",s="https://vue-course-api.hexschool.io/api/bike/admin/coupon",i="新增",n=a.tempCoupon;a.getTimeStamp(),n.new&&(e="put",s="https://vue-course-api.hexschool.io/api/bike/admin/coupon/"+n.id,i="修改",delete n.new),this.$validator.validate().then(function(o){o&&t.$http[e](s,{data:n}).then(function(e){1==e.data.success?(Pt()("#couponModal").modal("hide"),t.$bus.$emit("message:push",i+"成功","success"),a.getCoupons()):t.$bus.$emit("message:push",i+"失敗","danger")})})},delCoupon:function(){var t=this,a=this,e="https://vue-course-api.hexschool.io/api/bike/admin/coupon/"+a.tempCoupon.id;this.$http.delete(e).then(function(e){e.data.success?(Pt()("#delCouponModal").modal("hide"),t.$bus.$emit("message:push","刪除成功","success"),a.getCoupons()):t.$bus.$emit("message:push","刪除失敗","danger")})},openModal:function(t){this.tempCoupon={},Pt()("#couponModal").modal("show")},openDelModal:function(t){this.tempCoupon=kt()({},t),Pt()("#delCouponModal").modal("show")},editCoupon:function(t){this.tempCoupon=kt()({},t),this.getDate(this.tempCoupon.due_date),this.tempCoupon.new=!0,Pt()("#couponModal").modal("show")},cancelModal:function(){Pt()("#couponModal").modal("hide"),Pt()("#delCouponModal").modal("hide")},getTimeStamp:function(){var t=new Date(this.tempCoupon.due_date).getTime();this.tempCoupon.due_date=t/1e3},getDate:function(t){t*=1e3;var a=new Date(Number(t)),e=a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+(a.getDate()<10?"0"+a.getDate():a.getDate());this.tempCoupon.due_date=e}},created:function(){this.getCoupons()},components:{Pagination:at}},Ft={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),e("div",{staticClass:"table-responsive mt-4"},[e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:t.openModal}},[t._v("ADD")])]),t._v(" "),e("table",{staticClass:"table table-striped table-sm mt-1"},[t._m(0),t._v(" "),e("tbody",t._l(t.coupons,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(a.title))]),t._v(" "),e("td",{staticClass:"text-right pr-3"},[t._v(t._s(a.percent))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(t._f("dateFilter")(a.due_date)))]),t._v(" "),e("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(a.code))]),t._v(" "),e("td",{staticClass:"text-center"},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("enable")]):e("span",{staticClass:"text-danger"},[t._v("unable")])]),t._v(" "),e("td",{staticClass:"d-flex flex-column d-md-table-cell"},[e("button",{staticClass:"btn btn-outline-primary my-1",on:{click:function(e){t.editCoupon(a)}}},[t._v("edit")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger my-1",on:{click:function(e){t.openDelModal(a)}}},[t._v("delete")])])])}),0)]),t._v(" "),e("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getCoupons}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("代碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"code",name:"code",placeholder:"請輸入代碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}}),t._v(" "),t.errors.has("code")?e("span",{staticClass:"text-danger"},[t._v("代碼欄位不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("折扣趴數")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"},{name:"validate",rawName:"v-validate",value:"required|max_value:100|min_value:1",expression:"'required|max_value:100|min_value:1'"}],staticClass:"form-control",attrs:{type:"number",id:"percent",name:"percent",placeholder:"請輸入折扣趴數 1 - 100"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}}),t._v(" "),t.errors.has("percent")?e("span",{staticClass:"text-danger"},[t._v("請輸入正確的折扣")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("期限")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.due_date,expression:"tempCoupon.due_date"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"date",id:"date",name:"date",placeholder:"請輸入期限"},domProps:{value:t.tempCoupon.due_date},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"due_date",a.target.value)}}}),t._v(" "),t.errors.has("date")?e("span",{staticClass:"text-danger"},[t._v("請請輸入期限")]):t._e()])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var n=t._i(e,null);s.checked?n<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([null])):n>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\r\n                                        是否啟用\r\n                                        ")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\r\n                        是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 商品(刪除後將無法恢復)。\r\n                    ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delCoupon}},[t._v("確認刪除")])])])])])],1)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"title d-none d-md-table-cell pl-2"},[t._v("TITLE")]),t._v(" "),e("th",{staticClass:"text-right"},[t._v("PERCENT")]),t._v(" "),e("th",{staticClass:"date text-center"},[t._v("DATE")]),t._v(" "),e("th",{staticClass:"d-none d-md-table-cell"},[t._v("CODE")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("ENABLE")]),t._v(" "),e("th",{staticClass:"edit text-center"},[t._v("EDIT")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("新增優惠券")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("刪除優惠券")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var Bt=e("VU/8")(Ut,Ft,!1,function(t){e("TI7v")},"data-v-1cd7a2bc",null).exports;s.a.use(g.a,n.a,r.a);var Nt=new g.a({routes:[{path:"*",redirect:"/"},{name:"",path:"/",component:O,children:[{neme:"Main",path:"",component:j},{name:"Cart",path:"/cart",component:R},{name:"Checkout",path:"/checkout/:order_id",component:A},{name:"",path:"shop",component:G,children:[{neme:"Bike",path:"",component:it},{neme:"TouringBike",path:"touring",component:rt},{neme:"RoadBike",path:"road",component:dt},{neme:"PistaBike",path:"pista",component:vt},{neme:"Sales",path:"sales",component:ht},{neme:"Search",path:"search/:key_word",component:bt},{neme:"Product",path:"product/:product_id",component:xt}]}]},{name:"Login",path:"/login",component:M},{name:"",path:"/admin",component:D,children:[{name:"Order",path:"",component:qt},{name:"Product",path:"product",component:Ot},{name:"Coupon",path:"coupon",component:Bt}],beforeEnter:function(t,a,e){n.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){t.data.success?e():e({path:"/login"})})}}]});s.a.prototype.$bus=new s.a,s.a.use(r.a,n.a),s.a.use(d.a,{events:"input|blur"}),s.a.use(m.a),d.a.Validator.localize("zh_TW",p.a),s.a.config.productionTip=!1,n.a.defaults.withCredentials=!0,s.a.component("Loading",c.a),s.a.filter("currencyFilter",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),s.a.filter("momentFilter",function(t){t*=1e3;var a=new Date(Number(t));return a.getFullYear()+"-"+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+(a.getDate()<10?"0"+a.getDate():a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}),s.a.filter("dateFilter",function(t){t*=1e3;var a=new Date(Number(t));return a.getFullYear()+"-"+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+(a.getDate()<10?"0"+a.getDate():a.getDate())}),new s.a({el:"#app",components:{App:h},router:Nt,template:"<App/>"})},NHtO:function(t,a){},NYII:function(t,a){},NZKn:function(t,a){},O0EU:function(t,a){},SYh3:function(t,a){},T4Kp:function(t,a){},TI7v:function(t,a){},WGQu:function(t,a){},"dm/s":function(t,a){},eABo:function(t,a){},ovOR:function(t,a){},qfuq:function(t,a,e){"use strict";var s=e("qncA"),i=e.n(s),n=e("MbA/");var o=function(t){e("NHtO")},r=e("VU/8")(i.a,n.a,!1,o,"data-v-5b6a9b17",null);a.default=r.exports},qncA:function(t,a){},t4Z1:function(t,a){},tEGj:function(t,a){},v2ns:function(t,a){},xFOL:function(t,a,e){"use strict";var s=e("ovOR"),i=e.n(s),n=e("xpZl");var o=function(t){e("LqWc")},r=e("VU/8")(i.a,n.a,!1,o,"data-v-21e130de",null);a.default=r.exports},xpZl:function(t,a,e){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-inline d-flex flex-column col-12 col-lg-6"},[a("div",{staticClass:"row"},[a("input",{staticClass:"form-control ml-auto col-12 col-lg-7",attrs:{type:"email",placeholder:"填入電子郵件接受促銷資訊"}}),this._v(" "),a("button",{staticClass:"btn btn-danger mt-2 mt-lg-0 ml-lg-1 col-12 col-lg-3",attrs:{type:"submit"}},[this._v("加入")])])]),this._v(" "),a("div",{staticClass:"icon mt-4 mt-lg-0 col-lg-6 text-center"},[a("i",{staticClass:"fab fa-line"}),this._v(" "),a("i",{staticClass:"fab fa-facebook"}),this._v(" "),a("i",{staticClass:"fab fa-weixin"})])])])}]};a.a=s},zeAu:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.db6385e04c5288f5b6ec.js.map